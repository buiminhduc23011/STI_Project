# The following lines of boilerplate have to be in your project's CMakeLists
# in this exact order for cmake to work correctly
cmake_minimum_required(VERSION 3.16)
set(EXTRA_COMPONENT_DIRS ${CMAKE_CURRENT_LIST_DIR}/components/IDF-Library)
include($ENV{IDF_PATH}/tools/cmake/project.cmake)
string(TIMESTAMP BUILD_DATE "%Y%m%d_%H%M%S")

set(FW_MAJOR 1)
set(FW_MINOR 0)
set(FW_BUILD 2)
set(PROJECT_VER_NUMBER 101)
set(FW_NAME "DWIN_DEMO_${BUILD_DATE}")
set(PROJECT_VER "${FW_MAJOR}.${FW_MINOR}.${FW_BUILD}_${BUILD_DATE}")
set(PROJECT_NAME "${FW_NAME}")

add_definitions(-DFW_VERSION_MAJOR=${FW_MAJOR})
add_definitions(-DFW_VERSION_MINOR=${FW_MINOR})
add_definitions(-DFW_VERSION_BUILD=${FW_BUILD})
add_definitions(-DFW_VERSION=${PROJECT_VER_NUMBER})
add_definitions(-DFW_BUILD_DATE="${BUILD_DATE}")
add_definitions(-DPROJECT_NAME="${FW_NAME}")

project(${PROJECT_NAME})

idf_build_set_property(COMPILE_OPTIONS "-Wno-format;" APPEND)

